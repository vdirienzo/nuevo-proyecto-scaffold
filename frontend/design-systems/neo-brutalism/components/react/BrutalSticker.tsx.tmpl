/**
 * BrutalSticker.tsx - Neo-Brutalism decorative sticker component
 *
 * Autor: Homero Thompson del Lago del Terror
 * Project: {{PROJECT_NAME}}
 */

import React from 'react'
import { cn } from '@/lib/utils'

export interface BrutalStickerProps extends React.HTMLAttributes<HTMLDivElement> {
  text: string
  variant?: 'badge' | 'starburst' | 'circle'
  color?: 'yellow' | 'magenta' | 'cyan' | 'lime' | 'orange' | 'red'
  size?: 'sm' | 'md' | 'lg'
  rotate?: number
}

const BrutalSticker = React.forwardRef<HTMLDivElement, BrutalStickerProps>(
  (
    {
      className,
      text,
      variant = 'badge',
      color = 'yellow',
      size = 'md',
      rotate = 12,
      ...props
    },
    ref
  ) => {
    const colorClasses = {
      yellow: 'bg-brutal-yellow text-brutal-black',
      magenta: 'bg-brutal-magenta text-brutal-black',
      cyan: 'bg-brutal-cyan text-brutal-black',
      lime: 'bg-brutal-lime text-brutal-black',
      orange: 'bg-brutal-orange text-white',
      red: 'bg-brutal-red text-white',
    }

    const sizeClasses = {
      sm: 'px-2 py-1 text-brutal-xs',
      md: 'px-3 py-2 text-brutal-sm',
      lg: 'px-4 py-3 text-brutal-base',
    }

    const baseClasses = cn(
      'inline-block border-brutal font-bold uppercase tracking-wide',
      'shadow-brutal-sm',
      colorClasses[color],
      sizeClasses[size]
    )

    if (variant === 'starburst') {
      return (
        <div
          ref={ref}
          className={cn(
            baseClasses,
            'relative',
            className
          )}
          style={{
            transform: `rotate(${rotate}deg)`,
            clipPath: 'polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%)',
          }}
          {...props}
        >
          <span className="relative z-10">{text}</span>
        </div>
      )
    }

    if (variant === 'circle') {
      return (
        <div
          ref={ref}
          className={cn(
            baseClasses,
            'rounded-full aspect-square flex items-center justify-center',
            className
          )}
          style={{
            transform: `rotate(${rotate}deg)`,
          }}
          {...props}
        >
          <span className="text-center">{text}</span>
        </div>
      )
    }

    // badge variant (default)
    return (
      <div
        ref={ref}
        className={cn(baseClasses, className)}
        style={{
          transform: `rotate(${rotate}deg)`,
        }}
        {...props}
      >
        {text}
      </div>
    )
  }
)

BrutalSticker.displayName = 'BrutalSticker'

export default BrutalSticker
