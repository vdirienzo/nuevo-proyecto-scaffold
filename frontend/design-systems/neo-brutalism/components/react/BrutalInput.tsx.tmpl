/**
 * BrutalInput.tsx - Neo-Brutalism input component
 *
 * Autor: Homero Thompson del Lago del Terror
 * Project: {{PROJECT_NAME}}
 */

import React, { useState } from 'react'
import { cn } from '@/lib/utils'

export interface BrutalInputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  label?: string
  error?: string
  focusColor?: 'yellow' | 'magenta' | 'cyan' | 'lime'
}

const BrutalInput = React.forwardRef<HTMLInputElement, BrutalInputProps>(
  ({ className, label, error, focusColor = 'yellow', ...props }, ref) => {
    const [isFocused, setIsFocused] = useState(false)

    const focusClasses = {
      yellow: 'focus:border-brutal-yellow focus:shadow-brutal-yellow-sm',
      magenta: 'focus:border-brutal-magenta focus:shadow-brutal-magenta-sm',
      cyan: 'focus:border-brutal-cyan focus:shadow-brutal-cyan-sm',
      lime: 'focus:border-brutal-lime focus:shadow-brutal-lime-sm',
    }

    return (
      <div className="w-full">
        {label && (
          <label className="block mb-2 font-bold text-brutal-lg uppercase tracking-wide">
            {label}
          </label>
        )}
        <input
          ref={ref}
          className={cn(
            'w-full px-4 py-3 border-brutal bg-brutal-white',
            'text-brutal-base font-bold placeholder:font-normal',
            'transition-all duration-100',
            'disabled:opacity-50 disabled:cursor-not-allowed',
            focusClasses[focusColor],
            error && 'border-brutal-red animate-shake',
            className
          )}
          onFocus={() => setIsFocused(true)}
          onBlur={() => setIsFocused(false)}
          {...props}
        />
        {error && (
          <div className="mt-2 px-3 py-2 bg-brutal-red text-white border-brutal font-bold text-brutal-sm">
            {error}
          </div>
        )}
      </div>
    )
  }
)

BrutalInput.displayName = 'BrutalInput'

export default BrutalInput
