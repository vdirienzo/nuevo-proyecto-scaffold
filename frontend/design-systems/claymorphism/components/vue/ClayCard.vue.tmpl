<!--
  ClayCard.vue - Claymorphism Card Component (Vue 3)

  Autor: {{AUTHOR}}
  Proyecto: {{PROJECT_NAME}}
-->

<script setup lang="ts">
import { computed } from 'vue'

interface Props {
  variant?: 'pink' | 'blue' | 'green' | 'yellow' | 'purple' | 'white'
  withBlob?: boolean
  blobPosition?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'
  hoverable?: boolean
  padding?: 'sm' | 'md' | 'lg'
}

const props = withDefaults(defineProps<Props>(), {
  variant: 'white',
  withBlob: false,
  blobPosition: 'top-right',
  hoverable: false,
  padding: 'md',
})

const variantClasses = computed(() => {
  const variants = {
    pink: 'bg-clay-pink-100',
    blue: 'bg-clay-blue-100',
    green: 'bg-clay-green-100',
    yellow: 'bg-clay-yellow-100',
    purple: 'bg-clay-purple-100',
    white: 'bg-white',
  }
  return variants[props.variant]
})

const blobPositionClasses = computed(() => {
  const positions = {
    'top-left': '-top-10 -left-10',
    'top-right': '-top-10 -right-10',
    'bottom-left': '-bottom-10 -left-10',
    'bottom-right': '-bottom-10 -right-10',
  }
  return positions[props.blobPosition]
})

const blobColorClasses = computed(() => {
  const colors = {
    pink: 'bg-clay-pink-300/40',
    blue: 'bg-clay-blue-300/40',
    green: 'bg-clay-green-300/40',
    yellow: 'bg-clay-yellow-300/40',
    purple: 'bg-clay-purple-300/40',
    white: 'bg-gray-200/40',
  }
  return colors[props.variant]
})

const paddingClasses = computed(() => {
  const paddings = {
    sm: 'p-4',
    md: 'p-6',
    lg: 'p-8',
  }
  return paddings[props.padding]
})

const cardClasses = computed(() => {
  return [
    'relative overflow-hidden',
    'rounded-clay',
    'shadow-clay',
    'transition-all duration-300',
    variantClasses.value,
    paddingClasses.value,
    props.hoverable ? 'hover:shadow-clay-hover hover:scale-[1.02] cursor-pointer' : '',
  ]
})
</script>

<template>
  <div :class="cardClasses">
    <!-- Decorative blob -->
    <div
      v-if="withBlob"
      :class="[
        'absolute w-32 h-32 rounded-full blur-2xl animate-blob',
        blobPositionClasses,
        blobColorClasses,
      ]"
    />

    <!-- Content -->
    <div class="relative z-10">
      <slot />
    </div>
  </div>
</template>
