/**
 * animations.ts - Shared Framer Motion animations for design systems
 *
 * Autor: {{AUTHOR}}
 * Project: {{PROJECT_NAME}}
 *
 * Reusable animation variants optimized for each design system
 */

import type { Variants, Transition } from 'framer-motion';

/**
 * Easing functions for different design systems
 */
export const easings = {
  glassmorphism: {
    smooth: [0.43, 0.13, 0.23, 0.96],
    snappy: [0.68, -0.55, 0.265, 1.55],
    float: [0.25, 0.46, 0.45, 0.94],
  },
  neumorphism: {
    soft: [0.4, 0, 0.2, 1],
    gentle: [0.25, 0.1, 0.25, 1],
    press: [0.4, 0, 1, 1],
  },
  neoBrutalism: {
    sharp: [0.87, 0, 0.13, 1],
    bounce: [0.68, -0.55, 0.265, 1.55],
    instant: [1, 0, 0, 1],
  },
  claymorphism: {
    elastic: [0.68, -0.55, 0.265, 1.55],
    smooth: [0.4, 0, 0.2, 1],
    squish: [0.175, 0.885, 0.32, 1.275],
  },
  geist: {
    precise: [0.4, 0, 0.2, 1],
    swift: [0.25, 0.1, 0.25, 1],
    linear: [0, 0, 1, 1],
  },
};

/**
 * Duration presets
 */
export const durations = {
  instant: 0.1,
  fast: 0.2,
  normal: 0.3,
  slow: 0.5,
  slower: 0.8,
};

/**
 * Fade in/out variants
 */
export const fade: Variants = {
  initial: {
    opacity: 0,
  },
  animate: {
    opacity: 1,
  },
  exit: {
    opacity: 0,
  },
};

/**
 * Slide variants (all directions)
 */
export const slide = {
  up: {
    initial: { y: 20, opacity: 0 },
    animate: { y: 0, opacity: 1 },
    exit: { y: -20, opacity: 0 },
  },
  down: {
    initial: { y: -20, opacity: 0 },
    animate: { y: 0, opacity: 1 },
    exit: { y: 20, opacity: 0 },
  },
  left: {
    initial: { x: 20, opacity: 0 },
    animate: { x: 0, opacity: 1 },
    exit: { x: -20, opacity: 0 },
  },
  right: {
    initial: { x: -20, opacity: 0 },
    animate: { x: 0, opacity: 1 },
    exit: { x: 20, opacity: 0 },
  },
};

/**
 * Scale variants
 */
export const scale: Variants = {
  initial: {
    scale: 0.95,
    opacity: 0,
  },
  animate: {
    scale: 1,
    opacity: 1,
  },
  exit: {
    scale: 0.95,
    opacity: 0,
  },
};

/**
 * Glassmorphism-specific: Float and blur effect
 */
export const floatBlur: Variants = {
  initial: {
    y: 20,
    opacity: 0,
    filter: 'blur(10px)',
  },
  animate: {
    y: 0,
    opacity: 1,
    filter: 'blur(0px)',
  },
  exit: {
    y: -20,
    opacity: 0,
    filter: 'blur(10px)',
  },
};

/**
 * Neumorphism-specific: Soft press effect
 */
export const softPress: Variants = {
  initial: { scale: 1 },
  tap: {
    scale: 0.98,
    transition: { duration: durations.fast, ease: easings.neumorphism.press },
  },
  hover: {
    scale: 1.02,
    transition: { duration: durations.normal, ease: easings.neumorphism.soft },
  },
};

/**
 * Neo-brutalism-specific: Sharp pop effect
 */
export const sharpPop: Variants = {
  initial: {
    scale: 0.9,
    rotate: -5,
    opacity: 0,
  },
  animate: {
    scale: 1,
    rotate: 0,
    opacity: 1,
    transition: {
      type: 'spring',
      stiffness: 300,
      damping: 20,
    },
  },
  exit: {
    scale: 0.9,
    rotate: 5,
    opacity: 0,
  },
};

/**
 * Claymorphism-specific: Elastic bounce
 */
export const elasticBounce: Variants = {
  initial: {
    scale: 0.8,
    opacity: 0,
  },
  animate: {
    scale: 1,
    opacity: 1,
    transition: {
      type: 'spring',
      stiffness: 400,
      damping: 15,
    },
  },
  tap: {
    scale: 0.95,
    transition: { duration: durations.fast },
  },
};

/**
 * Geist-specific: Precise and minimal
 */
export const precise: Variants = {
  initial: {
    opacity: 0,
    y: 10,
  },
  animate: {
    opacity: 1,
    y: 0,
    transition: {
      duration: durations.normal,
      ease: easings.geist.precise,
    },
  },
  exit: {
    opacity: 0,
    y: -10,
    transition: {
      duration: durations.fast,
      ease: easings.geist.swift,
    },
  },
};

/**
 * Stagger children utility
 */
export function staggerChildren(
  delayPerChild: number = 0.05,
  staggerDirection: number = 1
): Transition {
  return {
    staggerChildren: delayPerChild,
    staggerDirection,
  };
}

/**
 * Container variants for staggered children
 */
export const staggerContainer: Variants = {
  initial: {},
  animate: {
    transition: staggerChildren(0.05),
  },
  exit: {
    transition: staggerChildren(0.03, -1),
  },
};

/**
 * Item variants for staggered children
 */
export const staggerItem: Variants = {
  initial: {
    opacity: 0,
    y: 20,
  },
  animate: {
    opacity: 1,
    y: 0,
  },
  exit: {
    opacity: 0,
    y: -20,
  },
};

/**
 * Modal/Dialog animations by design system
 */
export const modal = {
  glassmorphism: {
    backdrop: {
      initial: { opacity: 0, backdropFilter: 'blur(0px)' },
      animate: { opacity: 1, backdropFilter: 'blur(8px)' },
      exit: { opacity: 0, backdropFilter: 'blur(0px)' },
    },
    content: floatBlur,
  },
  neumorphism: {
    backdrop: {
      initial: { opacity: 0 },
      animate: { opacity: 1 },
      exit: { opacity: 0 },
    },
    content: {
      initial: { scale: 0.95, opacity: 0 },
      animate: { scale: 1, opacity: 1 },
      exit: { scale: 0.95, opacity: 0 },
    },
  },
  neoBrutalism: {
    backdrop: {
      initial: { opacity: 0 },
      animate: { opacity: 1 },
      exit: { opacity: 0 },
    },
    content: sharpPop,
  },
  claymorphism: {
    backdrop: {
      initial: { opacity: 0 },
      animate: { opacity: 1 },
      exit: { opacity: 0 },
    },
    content: elasticBounce,
  },
  geist: {
    backdrop: {
      initial: { opacity: 0 },
      animate: { opacity: 1 },
      exit: { opacity: 0 },
    },
    content: precise,
  },
};

/**
 * Page transition variants
 */
export const pageTransition: Variants = {
  initial: {
    opacity: 0,
    x: -20,
  },
  animate: {
    opacity: 1,
    x: 0,
    transition: {
      duration: durations.normal,
      ease: 'easeOut',
    },
  },
  exit: {
    opacity: 0,
    x: 20,
    transition: {
      duration: durations.fast,
      ease: 'easeIn',
    },
  },
};

/**
 * Hover and tap animations
 */
export const interactiveScale = {
  whileHover: { scale: 1.05 },
  whileTap: { scale: 0.95 },
};

export const interactiveLift = {
  whileHover: { y: -4 },
  whileTap: { y: 0 },
};

/**
 * Get animation variants based on design system
 */
export function getSystemAnimations(systemName: string) {
  switch (systemName) {
    case 'glassmorphism':
      return {
        enter: floatBlur,
        modal: modal.glassmorphism,
        easing: easings.glassmorphism.smooth,
      };
    case 'neumorphism':
      return {
        enter: softPress,
        modal: modal.neumorphism,
        easing: easings.neumorphism.soft,
      };
    case 'neo-brutalism':
      return {
        enter: sharpPop,
        modal: modal.neoBrutalism,
        easing: easings.neoBrutalism.sharp,
      };
    case 'claymorphism':
      return {
        enter: elasticBounce,
        modal: modal.claymorphism,
        easing: easings.claymorphism.elastic,
      };
    case 'geist':
      return {
        enter: precise,
        modal: modal.geist,
        easing: easings.geist.precise,
      };
    default:
      return {
        enter: fade,
        modal: modal.geist,
        easing: easings.geist.precise,
      };
  }
}
