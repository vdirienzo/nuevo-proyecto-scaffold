/**
 * services/auth.ts - Authentication API calls
 * @author {{AUTHOR}}
 * @project {{PROJECT_NAME}}
 */

import { apiClient } from './api'
import type { LoginCredentials, RegisterData, AuthResponse } from '@/types'

/**
 * Login with email and password
 */
export async function login(credentials: LoginCredentials): Promise<AuthResponse> {
  const { data } = await apiClient.post<AuthResponse>('/auth/login', credentials)
  return data
}

/**
 * Register new user
 */
export async function register(userData: RegisterData): Promise<AuthResponse> {
  const { data } = await apiClient.post<AuthResponse>('/auth/register', userData)
  return data
}

/**
 * Refresh access token
 */
export async function refreshToken(refreshToken: string): Promise<AuthResponse> {
  const { data } = await apiClient.post<AuthResponse>('/auth/refresh', {
    refresh_token: refreshToken
  })
  return data
}

/**
 * Logout user
 */
export async function logout(): Promise<void> {
  await apiClient.post('/auth/logout')
}

/**
 * Get current user profile
 */
export async function getCurrentUser(): Promise<AuthResponse['user']> {
  const { data } = await apiClient.get('/auth/me')
  return data
}
