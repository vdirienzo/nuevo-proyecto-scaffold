/**
 * MSW Node Server Setup (for tests)
 * Author: {{AUTHOR}}
 * Project: {{PROJECT_NAME}}
 */

import { setupServer } from "msw/node";
import { authHandlers } from "./handlers/auth";
import { usersHandlers } from "./handlers/users";

// Combine all handlers
const handlers = [...authHandlers, ...usersHandlers];

// Setup server for Node.js environment (tests)
export const server = setupServer(...handlers);

// Configure server lifecycle hooks
beforeAll(() => server.listen({ onUnhandledRequest: "error" }));
afterEach(() => server.resetHandlers());
afterAll(() => server.close());
